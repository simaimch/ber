{
    "start":{
        "onStart":{
            "goto":"SELF.class1"
        }
    },
    "break_Generic":{
        "actions":{
            "4000":{
                "Label":"Hang out (Hallway)",
                "goto":"SELF.breakHallway"
            },
            "3000":{
                "Label":"Hang out (School Grounds)"
            },
            "2000":{
                "Label":"Hang out (Toilets)"
            },
            "1000":{
                "Label":"Hang out (Atrium)"
            }
        }
    },
    "break1":{
        "text":"It's the first break of the day.",
        "inherit":"SELF.break_Generic"
    },
    "break2":{
        "text":"It's the second break of the day.",
        "inherit":"SELF.break_Generic"
    },
    "break3":{
        "text":"It's the third break of the day.",
        "inherit":"SELF.break_Generic"
    },
    "breakHallway":{
        "bg":"texture/events/school/break/hallway.jpg",
        "npcs":true,
        "actions":{
            "1000":{
                "Label":"Back to class",
                "goto":"SELF.breakEnd"
            }
        }
    },
    "breakEnd":{
        "~onStart":{
            "1":{
                "condition":"MiscData.school.currentHour=1",
                "value":{
                    "goto":"SELF.breakEnd1"
                }
            },
            "2":{
                "condition":"MiscData.school.currentHour=2",
                "value":{
                    "goto":"SELF.breakEnd2"
                }
            },
            "3":{
                "condition":"MiscData.school.currentHour=3",
                "value":{
                    "goto":"SELF.breakEnd3"
                }
            }

        }
    },
    "breakEnd1":{
        "onStart":{
            "Time":{
                "Pass":{
                    "SetTime":"09:35"
                }
            },
            "goto":"SELF.class2"
        }
    },
    "breakEnd2":{
        "onStart":{
            "Time":{
                "Pass":{
                    "SetTime":"11:25"
                }
            },
            "goto":"SELF.class3"
        }
    },
    "breakEnd3":{
        "onStart":{
            "Time":{
                "Pass":{
                    "SetTime":"13:30"
                }
            },
            "goto":"SELF.class4"
        }
    },
    "class_Generic":{
        "actions":{
            "4000":{
                "Label":"Participate actively",
                "~value":{
                    "1000":{
                        "condition":"PlayerData.stat.sleep.current < 2000",
                        "value":{
                            "Disabled": true,
                            "Tooltip": "You are too tired to keep your eyes open."
                        }
                    },
                    "900":{
                        "condition":"PlayerData.stat.sleep.current < 4000",
                        "value":{
                            "Disabled": true,
                            "Tooltip": "You are too tired to concentrate."
                        }
                    },
                    "100":{
                        "value":{
                            "goto":"dahlemSchoolClasses.start"
                        }
                    }
                }
            },
            "3000":{
                "Label":"Listen to the lecture",
                "~value":{
                    "1000":{
                        "condition":"PlayerData.stat.sleep.current < 2000",
                        "value":{
                            "Disabled": true,
                            "Tooltip": "You are too tired to keep your eyes open."
                        }
                    },
                    "900":{
                        "condition":"PlayerData.stat.sleep.current < 4000",
                        "value":{
                            "Disabled": true,
                            "Tooltip": "You are too tired to concentrate."
                        }
                    },
                    "100":{
                        "value":{
                            "goto":"dahlemSchoolClasses.start"
                        }
                    }
                }
            },
            "2000":{
                "Label":"Daydream",
                "~value":{
                    "1000":{
                        "condition":"PlayerData.stat.sleep.current < 2000",
                        "value":{
                            "Disabled": true,
                            "Tooltip": "You are too tired to keep your eyes open."
                        }
                    },
                    "100":{
                        "value":{
                            "goto":"dahlemSchoolClasses.start"
                        }
                    }
                }
            },
            "1000":{
                "Label":"Relax",
                "goto":"SELF.classRelax"
            }
        }
    },
    "class1":{
        "onStart":{
            "goto":"SELF.class1_Math"
        }
    },
    "class2":{
        "onStart":{
            "goto":"SELF.class2_German"
        }
    },
    "class3":{
        "onStart":{
            "goto":"SELF.class3_History"
        }
    },
    "class4":{
        "onStart":{
            "goto":"SELF.class4_Art"
        }
    },
    "class1_Generic":{
        "inherit":"SELF.class_Generic",
        "onStart":{
            "MiscData":{
                "school.currentHour":1
            }
        }
    },
    "class1_Math":{
        "inherit":"SELF.class1_Generic",
        "bg":"texture/npc/schoolTeachers/mathBigHor.png",
        "onStart":{
            "MiscData":{
                "school.currentCourse":"math"
            }
        }
    },
    "class2_Generic":{
        "inherit":"SELF.class_Generic",
        "onStart":{
            "MiscData":{
                "school.currentHour":2
            }
        }
    },
    "class2_German":{
        "inherit":"SELF.class2_Generic",
        "bg":"texture/npc/schoolTeachers/germanBigHor.png",
        "onStart":{
            "MiscData":{
                "school.currentCourse":"german"
            }
        }
    },
    "class3_Generic":{
        "inherit":"SELF.class_Generic",
        "onStart":{
            "MiscData":{
                "school.currentHour":3
            }
        }
    },
    "class3_History":{
        "inherit":"SELF.class3_Generic",
        "bg":"texture/npc/schoolTeachers/historyBigHor.png",
        "onStart":{
            "MiscData":{
                "school.currentCourse":"history"
            }
        }
    },
    "class4_Generic":{
        "inherit":"SELF.class_Generic",
        "onStart":{
            "MiscData":{
                "school.currentHour":4
            }
        }
    },
    "class4_Art":{
        "inherit":"SELF.class4_Generic",
        "bg":"texture/npc/schoolTeachers/artBigHor.jpg",
        "onStart":{
            "MiscData":{
                "school.currentCourse":"art"
            }
        }
    },
    "classRelax":{
        "|onStart":{
            "1":{
                "~weight":{
                    "1000":{
                        "condition":"PlayerData.stat.sleep.current < 500",
                        "value":100
                    },
                    "900":{
                        "condition":"PlayerData.stat.sleep.current < 1000",
                        "value":75
                    },
                    "800":{
                        "condition":"PlayerData.stat.sleep.current < 1500",
                        "value":50
                    },
                    "700":{
                        "condition":"PlayerData.stat.sleep.current < 2000",
                        "value":25
                    },
                    "600":{
                        "value":10
                    }
                },
                "value":{
                    "goto":"SELF.classRelaxCaught"
                }
            },
            "2":{
                "weight":100,
                "value":{
                    "goto":"SELF.classRelaxSuccess"
                }
            }
        }
    },
    "classRelaxCaught":{
        "text":"CAUGHT",
        "actions":{
            "1000":{
                "Label":"Next",
                "goto":"SELF.classEnd"
            }
        }
    },
    "classRelaxSuccess":{
        "text":"SUCCESS",
        "actions":{
            "1000":{
                "Label":"Next",
                "goto":"SELF.classEnd"
            }
        }
    },
    "classEnd":{
        "~onStart":{
            "1":{
                "condition":"MiscData.school.currentHour=1",
                "value":{
                    "goto":"SELF.classEnd1"
                }
            },
            "2":{
                "condition":"MiscData.school.currentHour=2",
                "value":{
                    "goto":"SELF.classEnd2"
                }
            },
            "3":{
                "condition":"MiscData.school.currentHour=3",
                "value":{
                    "goto":"SELF.classEnd3"
                }
            },
            "4":{
                "condition":"MiscData.school.currentHour=4",
                "value":{
                    "goto":"SELF.classEnd4"
                }
            }

        }
    },
    "classEnd1":{
        "onStart":{
            "Time":{
                "Pass":{
                    "SetTime":"09:15"
                }
            }
        },
        "actions":{
            "1":{
                "Label":"Break",
                "goto":"SELF.break1"
            }
        }
    },
    "classEnd2":{
        "onStart":{
            "Time":{
                "Pass":{
                    "SetTime":"11:05"
                }
            }
        },
        "actions":{
            "1":{
                "Label":"Break",
                "goto":"SELF.break2"
            }
        }
    },
    "classEnd3":{
        "onStart":{
            "Time":{
                "Pass":{
                    "SetTime":"12:55"
                }
            }
        },
        "actions":{
            "1":{
                "Label":"Break",
                "goto":"SELF.break3"
            }
        }
    },
    "classEnd4":{
        "onStart":{
            "Time":{
                "Pass":{
                    "SetTime":"15:00"
                }
            }
        },
        "actions":{
            "1":{
                "Label":"Leave School",
                "goto":"dahlemSchool.exterior"
            }
        }
    }
}